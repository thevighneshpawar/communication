<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Communication Assessment</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1em;
        }

        .voice-controls {
            background: white;
            padding: 20px;
            border-bottom: 2px solid #f0f0f0;
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .voice-controls label {
            font-weight: 600;
            color: #333;
        }

        .voice-controls select {
            padding: 10px 15px;
            border: 2px solid #667eea;
            border-radius: 8px;
            font-size: 1em;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
        }

        .voice-controls select:hover {
            border-color: #764ba2;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2);
        }

        .voice-controls select:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .nav-tabs {
            display: flex;
            background: #f5f5f5;
            border-bottom: 2px solid #ddd;
            overflow-x: auto;
        }

        .nav-tab {
            padding: 15px 25px;
            cursor: pointer;
            border: none;
            background: transparent;
            font-size: 1em;
            font-weight: 600;
            color: #666;
            transition: all 0.3s;
            white-space: nowrap;
        }

        .nav-tab:hover {
            background: #e0e0e0;
        }

        .nav-tab.active {
            background: white;
            color: #667eea;
            border-bottom: 3px solid #667eea;
        }

        .content {
            padding: 30px;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
            animation: fadeIn 0.3s;
        }

        /* Telegram Button Styles */
.telegram-btn {
    position: fixed;
    bottom: 25px;
    right: 25px;
    background: #0088cc;
    color: white;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    box-shadow: 0 4px 20px rgba(0, 136, 204, 0.4);
    z-index: 1000;
    transition: all 0.3s ease;
    border: 3px solid white;
}

.telegram-btn:hover {
    background: #0077b5;
    transform: scale(1.1) translateY(-5px);
    box-shadow: 0 8px 25px rgba(0, 136, 204, 0.6);
}

.telegram-btn:active {
    transform: scale(0.95);
}

.telegram-btn i {
    font-size: 28px;
}

        

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .question-card {
            background: #f9f9f9;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            border-left: 4px solid #667eea;
        }

        .question-number {
            color: #667eea;
            font-weight: bold;
            font-size: 0.9em;
            margin-bottom: 10px;
        }

        .question-text {
            font-size: 1.1em;
            margin-bottom: 15px;
            color: #333;
            line-height: 1.6;
        }

        .answer-text {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
            border-left: 3px solid #4caf50;
            display: none;
        }

        .answer-text.show {
            display: block;
        }

        .answer-label {
            font-weight: bold;
            color: #4caf50;
            margin-bottom: 5px;
        }

        .controls {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        button {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-danger {
            background: #e74c3c;
            color: white;
        }

        .btn-danger:hover {
            background: #c0392b;
        }

        .btn-success {
            background: #4caf50;
            color: white;
        }

        .btn-success:hover {
            background: #45a049;
        }

        .btn-secondary {
            background: #9e9e9e;
            color: white;
        }

        .btn-secondary:hover {
            background: #757575;
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .recording {
            background: #e74c3c !important;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .story-text {
            background: white;
            padding: 20px;
            border-radius: 8px;
            line-height: 1.8;
            margin-bottom: 15px;
            font-size: 1.05em;
        }

        .timer {
            font-size: 1.5em;
            color: #e74c3c;
            font-weight: bold;
            margin: 10px 0;
        }

        .read-section {
            background: white;
            padding: 20px;
            border-radius: 8px;
            line-height: 2;
            font-size: 1.05em;
        }

        .sentence-build {
            background: #fff3cd;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .progress {
            background: #e0e0e0;
            height: 8px;
            border-radius: 4px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-bar {
            background: linear-gradient(90deg, #667eea, #764ba2);
            height: 100%;
            transition: width 0.3s;
        }

        @media (max-width: 768px) {
            .header h1 { font-size: 1.5em; }
            .content { padding: 20px; }
            .nav-tab { padding: 12px 15px; font-size: 0.9em; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ Communication Assessment</h1>
            <p>Practice your English pronunciation with American accent</p>
        </div>

        <div class="voice-controls">
            <label for="voiceSelect">üéôÔ∏è Voice Mode:</label>
            <select id="voiceSelect" onchange="updateVoiceSettings()">
                <option value="female-normal">Female - Normal Speed</option>
                <option value="female-slow">Female - Slow Speed</option>
                <option value="male-normal">Male - Normal Speed</option>
                <option value="male-fast">Male - Fast Speed</option>
            </select>
            <span id="voiceInfo" style="color: #666; font-size: 0.9em;">American English Accent</span>
        </div>

        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showSection('partA')">Part A: Read</button>
            <button class="nav-tab" onclick="showSection('partB')">Part B: Listen & Say</button>
            <button class="nav-tab" onclick="showSection('partC')">Part C: Questions</button>
            <button class="nav-tab" onclick="showSection('partD')">Part D: Sentence Build</button>
            <button class="nav-tab" onclick="showSection('partE')">Part E: Stories</button>
            <button class="nav-tab" onclick="showSection('partF')">Part F: Open Questions</button>
        </div>

        <div class="content">
            <div id="partA" class="section active">
                <h2 style="margin-bottom: 20px; color: #333;">Part A: Reading Practice</h2>
                <div class="read-section" id="readText">
                    Click "Start Reading" to begin. Read the text aloud clearly.
                </div>
                <div class="controls">
                    <button class="btn-primary" onclick="startReading()">üìñ Start Reading</button>
                    <button class="btn-success" id="recordReadBtn" onclick="toggleRecording('read')" disabled>üé§ Record</button>
                </div>
            </div>

            <div id="partB" class="section">
                <h2 style="margin-bottom: 20px; color: #333;">Part B: Listen and Say</h2>
                <div class="progress">
                    <div class="progress-bar" id="progressB" style="width: 0%"></div>
                </div>
                <div id="partBContent"></div>
            </div>

            <div id="partC" class="section">
                <h2 style="margin-bottom: 20px; color: #333;">Part C: Quick Answer Questions</h2>
                <div class="progress">
                    <div class="progress-bar" id="progressC" style="width: 0%"></div>
                </div>
                <div id="partCContent"></div>
            </div>

            <div id="partD" class="section">
                <h2 style="margin-bottom: 20px; color: #333;">Part D: Sentence Building</h2>
                <div class="progress">
                    <div class="progress-bar" id="progressD" style="width: 0%"></div>
                </div>
                <div id="partDContent"></div>
            </div>

            <div id="partE" class="section">
                <h2 style="margin-bottom: 20px; color: #333;">Part E: Story Retellings</h2>
                <div class="progress">
                    <div class="progress-bar" id="progressE" style="width: 0%"></div>
                </div>
                <div id="partEContent"></div>
            </div>

            <div id="partF" class="section">
                <h2 style="margin-bottom: 20px; color: #333;">Part F: Open Questions</h2>
                <div class="progress">
                    <div class="progress-bar" id="progressF" style="width: 0%"></div>
                </div>
                <div id="partFContent"></div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-file-download/0.4.12/js-file-download.min.js"></script>
    <script>
        const partBData = ["leave town on the next train","I'm feeling much better thank you","he shouldn't give you any trouble","either open the window or turn on the fan","to tell you the truth I don't really know","again and again she told herself to be brave","we could see three children playing outside","keep all items in plastic bags","during the weekend I'm going to put all the files in order","we reserved a table for 4 at 8:00 p.m.","if your family is moving out of the area please tell the office staff","the leaves used to spend their summers at the lake","you're entitled to use this product as long as you like","highly motivated people are always valued at our company","there are six basic items you should stack in your home","looking ahead The Firm will focus on new technologies","current stock prices are now available over the phone","May I have your attention please? Someone will be with you shortly.","We are supposed to meet at 6:00.","Can you repair a flat tire?","Can't you find any tape in the drawer?","That play was really well done.","Temperature records were broken today.","The doctor I went to was really very good.","Although I didn't have any money, I went in and looked around.","I'm afraid we'll have to cancel tonight's barbecue because of the weather.","It's very enjoyable to go for a slow walk along the water.","Drink plenty of fluids and get lots of rest.","This blanket will keep you comfortable on cool nights.","After getting rid of our television, we discovered the pleasures of reading.","Scott's package includes stock options and a yearly bonus.","Let our guides take you on a trip down the Pacific coast.","Do you have any black thread?","Disasters can happen anytime and anywhere.","If you're tired, take a short nap.","Antonio is a self-taught artist.","You're not really going to call them, are you?","Read the directions carefully before opening the package.","Are these available only in green?","To catch a fish, you need to be very patient.","Second-year students are required to read all three books.","Dr Walter moved his office to 100 Garden Street.","A good polishing would have those windows looking like new.","To find out how to invest, talk to a financial specialist.","Be sure to close the windows; it might rain while you're away.","I just wanted to check in and see if there's been any progress.","Isn't she the girl we saw at the market selling flowers?"];
        const partCData = [{q:"If Jesse makes his living playing the piano, is he a musician or a mayor?",a:"Musician"},{q:"Mrs Brown gives her children a snack after school. Does she give them a bath or food?",a:"Food / Snack"},{q:"Samuel knows many words. Does he have a big government or a big vocabulary?",a:"Big vocabulary"},{q:"Do people usually eat on the ceiling or at the table?",a:"Table"},{q:"If something is easily breakable, is it sturdy or delicate?",a:"Delicate"},{q:"Marty's peeling a vegetable that makes her eyes water. What is she peeling?",a:"Onion"},{q:"The arguments are good. Are they valid or unreasonable?",a:"Valid"},{q:"The change is very minor. Is it meaningful or insignificant?",a:"Insignificant"},{q:"If Chris wanted to go fishing, should he go to a highway or a lake?",a:"Lake"},{q:"If I take after my father, does that mean my father and I are similar or different?",a:"Similar"},{q:"Science skills are emphasized. Are they important or ignored?",a:"Important"},{q:"Are you more likely to find a factory in a residential or industrial part of town?",a:"Industrial"},{q:"Which is easier to tie a knot: rope or meat?",a:"Rope"},{q:"Amelia can't make it to her appointment. Should she cancel it or laugh at it?",a:"Cancel it"},{q:"I'm reluctant to go. Am I excited or resistant?",a:"Resistant"},{q:"Are paintings a type of art or a type of fire?",a:"Art"},{q:"The flight departed an hour ago. It's 5:00. What time did it leave?",a:"Four / 4:00"},{q:"What common substance can a person put in coffee to make it sweeter?",a:"Sugar"},{q:"Are lawyers usually involved in lawsuits or landscaping?",a:"Lawsuits"},{q:"Lucy has a load of laundry to do. Will she use a washing machine or a dishwasher?",a:"Washing machine"},{q:"What flash of light in the sky is often followed by thunder?",a:"Lightning"},{q:"How many sides does a square have?",a:"Four"},{q:"To water the garden, would you use a hose or a rake?",a:"Hose"},{q:"Are belts commonly worn around the waist or around the arm?",a:"Waist"},{q:"The basket is practically empty. Does it contain many or few items?",a:"Few"},{q:"James bought two dozen eggs. Four broke. How many does he have left?",a:"Twenty / 20"},{q:"If you have given up, have you quit or continued?",a:"Quit"},{q:"The movies are geared toward children. Are they for grown-ups or kids?",a:"Kids"},{q:"I think someone's knocking. Should I answer the phone or the door?",a:"Door"},{q:"Would a child be more likely to find a slide at a playground or a library?",a:"Playground"},{q:"Would the house's attic be above or below the ground floor?",a:"Above"},{q:"To make the room brighter, should I turn the light on or off?",a:"On"},{q:"How many moons does the Earth have?",a:"One"},{q:"The charges were outrageous. Were they fair or ridiculous?",a:"Ridiculous"},{q:"Travis is very knowledgeable. Is he ignorant or informed?",a:"Informed"},{q:"If the meeting is delayed, will it start earlier or later than scheduled?",a:"Later"},{q:"Which part of your body do you use for smelling?",a:"Nose"},{q:"Are pillows soft or hard?",a:"Soft"},{q:"Which is usually thicker: a finger or a leg?",a:"Leg"},{q:"What joint connects the upper and lower part of the leg?",a:"Knee"},{q:"If you need to wake up at 6:00 in the morning, would you set an alarm or a trap?",a:"Alarm"},{q:"Benjamin is empathetic. Is he cold or caring?",a:"Caring"},{q:"Do you watch the TV with your eyes closed or open?",a:"Open"},{q:"When someone has a confession to make, is she going to tell a secret or a joke?",a:"Secret"},{q:"Is a beautiful painting attractive or ugly?",a:"Attractive"},{q:"Do we wear shoes or gloves on our hands?",a:"Gloves"},{q:"The cloth completely covers the dresser. Is the dresser hidden or visible?",a:"Hidden"},{q:"If I delete a file, do I erase it or print it?",a:"Erase it"},{q:"The judge gave a lenient sentence; was it harsh or light?",a:"Light"},{q:"Which tool is used to cut: a pair of scissors or a hammer?",a:"Scissors"},{q:"In which season would you be most likely to see snow?",a:"Winter"},{q:"Would you get therapy from a counsellor or an editor?",a:"Counsellor"},{q:"Jean has a habit of biting his nails too much; does he bite them often or seldom?",a:"Often"},{q:"Pat does four loads of laundry a week; how many does she do in two weeks?",a:"Eight"},{q:"I think my leg is broken; should I tell the doctor or the policeman?",a:"Doctor"},{q:"Do you wear a cap or a canyon on your head?",a:"Cap"},{q:"If you are going to the theatre, will you see a play or will you see a football game?",a:"Play"},{q:"Pete has extensive knowledge of legal terms; does he work for a clothing store or a law firm?",a:"Law firm"},{q:"To see a live performance, would it be appropriate to buy a ticket or a videotape?",a:"Ticket"},{q:"In the springtime, do the flowers bloom or do the birds bloom?",a:"Flowers"},{q:"Does a balloon travel on land, on water, or in the air?",a:"Air"},{q:"Jordan postponed the event; is it happening sooner or later than originally planned?",a:"Later"},{q:"Does a university educate or recycle students?",a:"Educate"},{q:"Does a farmer usually work in the city or in the country?",a:"Country"},{q:"Would you expect to find dandelions among grass or in a museum?",a:"Grass"},{q:"What sound comes after a lightning flash?",a:"Thunder"},{q:"Is spaghetti a kind of pasta or a kind of spinach?",a:"Pasta"}];
        const partDData = [{o:"was living by himself that their only son they didn't know",c:"They didn't know that their only son was living by himself."},{o:"The party around 5 starts.",c:"The party starts around 5."},{o:"to visit us that she was planning. My sister said",c:"My sister said that she was planning to visit us."},{o:"fairly evaluated. The teachers should be",c:"The teachers should be fairly evaluated."},{o:"Her apartment outside. Wait.",c:"Wait outside her apartment."},{o:"Maps required are",c:"Maps are required."},{o:"accidentally deleted the results might have been",c:"The results might have been accidentally deleted."},{o:"Very warm. These gloves don't keep my hands.",c:"These gloves don't keep my hands very warm."},{o:"Katie will play in the concert her violin.",c:"Katie will play her violin in the concert."},{o:"The snowstorm to close forced schools.",c:"The snowstorm forced schools to close."},{o:"wait / tonight / is / downstairs / the bathroom",c:"The bathroom downstairs is wait tonight."},{o:"buy food / some / maybe / some people",c:"Maybe some people buy some food."},{o:"delayed / by the storm",c:"Delayed by the storm."},{o:"under / hide / your blanket",c:"Hide under your blanket."},{o:"been a problem / has never / the Little Pony",c:"The Little Pony has never been a problem."},{o:"your parents / for more information / they will ask",c:"They will ask your parents for more information."},{o:"spring bulbs / planted soon / should be",c:"Spring bulbs should be planted soon."},{o:"we're unwilling to help / and her assistant / the manager",c:"The manager and her assistant are unwilling to help."},{o:"we found / when Mrs Green left / her small silver ring",c:"We found her small silver ring when Mrs Green left."},{o:"My smokes husband",c:"My husband smokes."},{o:"To see their friend / the little boys / wanted",c:"The little boys wanted to see their friend."},{o:"Expensive houses / sell / they",c:"They sell expensive houses."},{o:"To our neighbor's truck / we didn't see / what happened",c:"We didn't see what happened to our neighbor's truck."},{o:"To come / Martha and Sue / invited her",c:"Martha and Sue invited her to come."},{o:"Sings / Mary / beautifully / a",c:"Mary sings beautifully."},{o:"A compliment / her comment / he considered",c:"He considered her comment a compliment."},{o:"To help him / his aunt / didn't want",c:"His aunt didn't want to help him."},{o:"Had bought the ring / everyone wanted to know / where Chris",c:"Everyone wanted to know where Chris had bought the ring."},{o:"Would seem / a better solution / to be desirable",c:"A better solution would seem to be desirable."}];
        const partEData = [{story:"A husband and wife went camping for the weekend. On the first day they went on a long hike in the mountains. After the hike they were very hungry. When they returned to the camp they found two bears eating their food. They decided to leave early and have dinner at a restaurant.",answer:"A husband and wife went camping for the weekend. After going on a long hike in the mountains, they returned to their camp feeling very hungry. However, they found two bears eating their food. Because their food was gone, they decided to leave the campsite early and eat dinner at a restaurant instead."},{story:"Gary was sleeping when his alarm went off. He realized it was time to go to work. He put on his clothes quickly and brushed his teeth. He ran outside and waited for the bus. He boarded the bus and rode it until he got to his office. It was only when he walked into his empty office that he realized it was a holiday and he was not required to work that day.",answer:"Gary woke up to his alarm and rushed to get ready for work. He dressed quickly, brushed his teeth, and caught the bus to his office. When he arrived, he found the office empty. It was then that he realized it was a holiday, and he was not actually required to work that day."},{story:"It is John's parents wedding anniversary. John wants to make a special dinner for them. He decides to make fish. While the fish is in the oven John's phone rings. He forgets about the fish and it burns. When his parents come home they all go out to eat in a restaurant.",answer:"To celebrate his parents' wedding anniversary, John decided to cook a special fish dinner. While the fish was in the oven, John's phone rang. He got distracted by the call and forgot about the oven, causing the fish to burn. When his parents arrived, they ended up going out to a restaurant to eat."},{story:"Two friends went out on a lake in a small boat on a sunny day. When dark clouds rolled in, they returned to shore as fast as possible but were soaking wet by the time they reached their cabin.",answer:"Two friends took a small boat out on a lake during sunny weather. When dark storm clouds appeared, they quickly headed back to shore. Despite their efforts to return quickly, they were completely soaking wet by the time they arrived at their cabin."},{story:"Diana and Joe trained for months for a bike race. Diana eventually won the race, beating Joe by only two seconds.",answer:"Diana and Joe spent months training for an important bike race. After all their preparation, Diana won the race in a very close finish, beating Joe by just two seconds."},{story:"Two sisters were playing in a big yard when the younger sister lost her glasses. After searching for a long time, the older sister found them, and they went inside for lunch.",answer:"Two sisters were playing outside in a large yard when the younger one lost her glasses. They searched for quite some time until the older sister finally found the glasses. After finding them, both sisters went inside to have lunch."},{story:"A mother asks her son to take out the garbage. He ignores her to watch TV. Later, the mother finds the dog chewing the garbage bag and messes everywhere. She makes the son clean up and walk the dog.",answer:"A mother told her son to take out the garbage, but he ignored her request and watched TV instead. Later, the mother discovered that their dog had gotten into the garbage bag and created a mess throughout the house. As a consequence, she made her son clean up the entire mess and take the dog for a walk."},{story:"Ben and his parents go to the beach. His father swims, his mother relaxes, and Ben builds a sandcastle. The father accidentally steps on the castle, making Ben sad, so they build another one together.",answer:"Ben went to the beach with his parents. While his father went swimming and his mother relaxed, Ben worked on building a sandcastle. Unfortunately, his father accidentally stepped on and destroyed the sandcastle, which made Ben very sad. To cheer him up, Ben and his father built a new sandcastle together."},{story:"Cousins visit after 10 years. They used to play in the garden and ride bikes together as children. Now that they are older, they are going to a nice restaurant.",answer:"Two cousins reunited after being apart for ten years. When they were children, they enjoyed playing together in the garden and riding their bikes. Now that they have grown older, instead of playing outside, they are celebrating their reunion by going out to eat at a nice restaurant."}];
        const partFData = [{q:"What are two advantages of eating lunch together with colleagues at work?",a:"There are two main advantages to eating lunch with colleagues. First, it strengthens professional relationships; by socializing in a casual setting, coworkers build trust and rapport, which improves teamwork. Second, it provides a mental break; stepping away from the desk to socialize reduces stress and helps employees return to work feeling refreshed and more productive."},{q:"Do you prefer sending postcards or emails from a trip abroad? Explain why.",a:"I prefer sending emails because they are faster and more reliable. With an email, I can attach high-quality digital photos and send them instantly to many people at once. While postcards are a nice tradition, they often take weeks to arrive or can get lost in the mail, whereas emails allow me to share my experiences with my family in real-time."},{q:"Do you feel that learning about art or music is a necessary part of a good education? Why do you feel this way?",a:"I believe that learning about art and music is definitely a necessary part of a good education. These subjects help develop creativity and critical thinking skills that are valuable in all areas of life. Art and music education also teaches students to appreciate different cultures and perspectives, which is essential in our diverse world. Additionally, studying these subjects can improve cognitive abilities, enhance memory, and provide emotional benefits. A well-rounded education should include both academic subjects and creative disciplines to help students become more complete individuals."},{q:"Some people think that weekends should be spent resting and relaxing, while other people prefer to use the extra time to complete work. How do you like to spend weekend time? Please explain.",a:"I prefer to use my weekends primarily for rest and relaxation, though I do believe in finding a balance. After working hard throughout the week, I think it's important to recharge both mentally and physically. I typically spend my weekends engaging in hobbies, spending time with family and friends, or enjoying outdoor activities. This downtime helps me reduce stress and return to work on Monday feeling refreshed and more productive. While I might occasionally catch up on minor tasks, I believe that maintaining boundaries between work and personal time is essential for long-term health and happiness. Everyone needs time to step away from their professional responsibilities to maintain their well-being."},{q:"Describe a person who has had a large impact on your life. In what way has this person changed your life?",a:"My high school English teacher had a tremendous impact on my life. Before her class, I struggled with self-confidence and didn't believe I had any special talents. She recognized my potential as a writer and consistently encouraged me to express my thoughts and ideas through writing. She would spend extra time giving me detailed feedback and pushing me to think more deeply about literature and the world around me. Her belief in me helped me discover my passion for writing and communication, which eventually led me to pursue my current career path. Beyond academics, she taught me the importance of perseverance and believing in myself even when facing challenges. Her mentorship showed me how one person's encouragement and support can fundamentally change someone's trajectory in life."},{q:"Do you think that a family should ever borrow money from a neighbour? Please explain with examples of such events.",a:"I think borrowing money from a neighbor can be acceptable in certain emergency situations, but it should generally be avoided if other options are available. For example, if a family faces an unexpected medical emergency and needs immediate funds before they can access their bank or other resources, borrowing from a neighbor might be necessary and appropriate. Another acceptable scenario might be if someone needs a small amount of money temporarily, like if they're short on cash to pay a delivery person. However, mixing financial matters with neighborly relationships can create tension and awkwardness, especially if repayment becomes difficult. If someone must borrow from a neighbor, they should treat it very seriously, put the agreement in writing, set a clear repayment date, and prioritize paying it back as soon as possible. In general, though, I believe it's better to maintain professional boundaries with neighbors and seek financial assistance from family members, banks, or other formal sources to preserve the friendly relationship with those who live nearby."}];

        let currentRecorder=null,recordedChunks=[],currentTimer=null,voiceSettings={gender:'female',rate:0.9,voice:null};

        function updateVoiceSettings(){const e=document.getElementById('voiceSelect').value;switch(e){case'female-normal':voiceSettings.gender='female';voiceSettings.rate=0.9;break;case'female-slow':voiceSettings.gender='female';voiceSettings.rate=0.7;break;case'male-normal':voiceSettings.gender='male';voiceSettings.rate=0.9;break;case'male-fast':voiceSettings.gender='male';voiceSettings.rate=1.1;break;}
const voices=speechSynthesis.getVoices();const preferredVoice=voices.find(v=>v.lang.includes('en-US')&&(voiceSettings.gender==='female'?v.name.toLowerCase().includes('female')||v.name.toLowerCase().includes('zira')||v.name.toLowerCase().includes('samantha'):v.name.toLowerCase().includes('male')||v.name.toLowerCase().includes('david')||v.name.toLowerCase().includes('daniel')));
voiceSettings.voice=preferredVoice||voices.find(v=>v.lang.includes('en-US'))||voices[0];}

function showSection(partId){document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));document.querySelectorAll('.nav-tab').forEach(t=>t.classList.remove('active'));document.getElementById(partId).classList.add('active');event.target.classList.add('active');if(partId==='partB')loadPartB();if(partId==='partC')loadPartC();if(partId==='partD')loadPartD();if(partId==='partE')loadPartE();if(partId==='partF')loadPartF();}

function startReading(){document.getElementById('readText').innerHTML=`<p style="line-height: 2; font-size: 1.1em;">Leave town on the next train. I'm feeling much better, thank you. He shouldn't give you any trouble. Either open the window or turn on the fan. To tell you the truth, I don't really know. Again and again, she told herself to be brave. We could see three children playing outside. Keep all items in plastic bags. During the weekend I'm going to put all the files in order. We reserved a table for 4 at 8:00 p.m.</p>`;document.getElementById('recordReadBtn').disabled=false;}

function loadPartB(){const container=document.getElementById('partBContent');container.innerHTML='';partBData.forEach((text,index)=>{const card=document.createElement('div');card.className='question-card';card.innerHTML=`<div class="question-number">Sentence ${index+1} of ${partBData.length}</div><div style="font-size: 1.1em; color: #666; margin-bottom: 15px;">üéß Listen carefully and repeat what you hear</div><div class="answer-text" id="answer-partB-${index}"><div class="answer-label">Text to repeat:</div>${text}</div><div class="controls"><button class="btn-primary" onclick="speakText('${text.replace(/'/g,"\\'")}')">üîä Listen</button><button class="btn-secondary" onclick="toggleAnswer('answer-partB-${index}', this)">üëÅÔ∏è Show Text</button><button class="btn-success" onclick="toggleRecording('partB-${index}')">üé§ Record Your Response</button></div>`;container.appendChild(card);});updateProgress('progressB',0,partBData.length);}

function loadPartC(){const container=document.getElementById('partCContent');container.innerHTML='';partCData.forEach((item,index)=>{const card=document.createElement('div');card.className='question-card';card.innerHTML=`<div class="question-number">Question ${index+1} of ${partCData.length}</div><div style="font-size: 1.1em; color: #666; margin-bottom: 15px;">üéß Listen to the question and answer quickly</div><div class="answer-text" id="answer-partC-${index}"><div class="answer-label">Question & Answer:</div><strong>Q:</strong> ${item.q}<br><br><strong>A:</strong> ${item.a}</div><div class="controls"><button class="btn-primary" onclick="speakText('${item.q.replace(/'/g,"\\'")}')">üîä Listen to Question</button><button class="btn-secondary" onclick="toggleAnswer('answer-partC-${index}', this)">üëÅÔ∏è Show Text</button><button class="btn-success" onclick="toggleRecording('partC-${index}')">üé§ Record Answer</button></div>`;container.appendChild(card);});updateProgress('progressC',0,partCData.length);}

function loadPartD(){const container=document.getElementById('partDContent');container.innerHTML='';partDData.forEach((item,index)=>{const card=document.createElement('div');card.className='question-card';card.innerHTML=`<div class="question-number">Sentence ${index+1} of ${partDData.length}</div><div style="font-size: 1.1em; color: #666; margin-bottom: 15px;">üéß Listen to the scrambled sentence and arrange it correctly</div><div class="answer-text" id="answer-partD-${index}"><strong>Scrambled:</strong> ${item.o}<br><br><div class="answer-label">Correct Answer:</div>${item.c}</div><div class="controls"><button class="btn-primary" onclick="speakText('${item.o.replace(/'/g,"\\'")}')">üîä Listen to Scrambled</button><button class="btn-secondary" onclick="toggleAnswer('answer-partD-${index}', this)">üëÅÔ∏è Show Text</button><button class="btn-success" onclick="toggleRecording('partD-${index}')">üé§ Record Answer</button></div>`;container.appendChild(card);});updateProgress('progressD',0,partDData.length);}

function loadPartE(){const container=document.getElementById('partEContent');container.innerHTML='';partEData.forEach((item,index)=>{const card=document.createElement('div');card.className='question-card';card.innerHTML=`<div class="question-number">Story ${index+1} of ${partEData.length}</div><div style="font-size: 1.1em; color: #666; margin-bottom: 15px;">üéß Listen to the story carefully and retell it in 30 seconds</div><div class="answer-text" id="answer-partE-${index}"><div class="answer-label">Story:</div>${item.story}<br><br><div class="answer-label">Sample Retelling:</div>${item.answer}</div><div class="timer" id="timer-${index}" style="display:none;">Time: 30s</div><div class="controls"><button class="btn-primary" onclick="speakText('${item.story.replace(/'/g,"\\'")}')">üîä Listen to Story</button><button class="btn-secondary" onclick="toggleAnswer('answer-partE-${index}', this)">üëÅÔ∏è Show Text</button><button class="btn-success" onclick="startStoryRecording(${index})">üé§ Record Retelling (30s)</button></div>`;container.appendChild(card);});updateProgress('progressE',0,partEData.length);}

function loadPartF(){const container=document.getElementById('partFContent');container.innerHTML='';partFData.forEach((item,index)=>{const card=document.createElement('div');card.className='question-card';card.innerHTML=`<div class="question-number">Question ${index+1} of ${partFData.length}</div><div style="font-size: 1.1em; color: #666; margin-bottom: 15px;">üéß Listen to the question and provide a detailed answer</div><div class="answer-text" id="answer-partF-${index}"><div class="answer-label">Question:</div>${item.q}<br><br><div class="answer-label">Sample Answer:</div>${item.a}</div><div class="controls"><button class="btn-primary" onclick="speakText('${item.q.replace(/'/g,"\\'")}')">üîä Listen to Question</button><button class="btn-secondary" onclick="toggleAnswer('answer-partF-${index}', this)">üëÅÔ∏è Show Text</button><button class="btn-success" onclick="toggleRecording('partF-${index}')">üé§ Record Answer</button></div>`;container.appendChild(card);});updateProgress('progressF',0,partFData.length);}

function speakText(text){const utterance=new SpeechSynthesisUtterance(text);if(voiceSettings.voice){utterance.voice=voiceSettings.voice;}else{const voices=speechSynthesis.getVoices();const americanVoice=voices.find(v=>v.lang==='en-US')||voices[0];utterance.voice=americanVoice;}
utterance.rate=voiceSettings.rate;utterance.pitch=1.0;utterance.volume=1.0;speechSynthesis.speak(utterance);}

async function toggleRecording(id){const btn=event.target;if(currentRecorder&&currentRecorder.state==='recording'){currentRecorder.stop();btn.textContent='üé§ Record Your Response';btn.classList.remove('recording');return;}
try{const stream=await navigator.mediaDevices.getUserMedia({audio:true});recordedChunks=[];currentRecorder=new MediaRecorder(stream);currentRecorder.ondataavailable=e=>{if(e.data.size>0)recordedChunks.push(e.data);};currentRecorder.onstop=()=>{const blob=new Blob(recordedChunks,{type:'audio/webm'});const url=URL.createObjectURL(blob);const audio=new Audio(url);const playBtn=document.createElement('button');playBtn.className='btn-success';playBtn.textContent='‚ñ∂Ô∏è Play Recording';playBtn.onclick=()=>audio.play();btn.parentElement.appendChild(playBtn);stream.getTracks().forEach(track=>track.stop());};currentRecorder.start();btn.textContent='‚èπÔ∏è Stop Recording';btn.classList.add('recording');}catch(err){alert('Microphone access denied. Please allow microphone access to record.');}}

async function startStoryRecording(index){const btn=event.target;const timerEl=document.getElementById(`timer-${index}`);try{const stream=await navigator.mediaDevices.getUserMedia({audio:true});recordedChunks=[];currentRecorder=new MediaRecorder(stream);currentRecorder.ondataavailable=e=>{if(e.data.size>0)recordedChunks.push(e.data);};currentRecorder.onstop=()=>{const blob=new Blob(recordedChunks,{type:'audio/webm'});const url=URL.createObjectURL(blob);const audio=new Audio(url);const playBtn=document.createElement('button');playBtn.className='btn-success';playBtn.textContent='‚ñ∂Ô∏è Play Recording';playBtn.onclick=()=>audio.play();btn.parentElement.appendChild(playBtn);timerEl.style.display='none';stream.getTracks().forEach(track=>track.stop());};currentRecorder.start();btn.disabled=true;timerEl.style.display='block';let timeLeft=30;currentTimer=setInterval(()=>{timeLeft--;timerEl.textContent=`Time: ${timeLeft}s`;if(timeLeft<=0){clearInterval(currentTimer);currentRecorder.stop();btn.disabled=false;}},1000);}catch(err){alert('Microphone access denied. Please allow microphone access to record.');}}

function updateProgress(id,current,total){const percent=(current/total)*100;document.getElementById(id).style.width=percent+'%';}

function toggleAnswer(answerId,btn){const answerDiv=document.getElementById(answerId);if(answerDiv.classList.contains('show')){answerDiv.classList.remove('show');btn.textContent='üëÅÔ∏è Show Text';}else{answerDiv.classList.add('show');btn.textContent='üôà Hide Text';}}

if(speechSynthesis.onvoiceschanged!==undefined){speechSynthesis.onvoiceschanged=()=>{speechSynthesis.getVoices();updateVoiceSettings();};}

window.addEventListener('load',()=>{setTimeout(updateVoiceSettings,100);});
    </script>

        <!-- Telegram Button -->
    <a href="https://t.me/Engineering_careers_in" target="_blank" class="telegram-btn" 
       title="Join our Telegram Channel">
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" viewBox="0 0 16 16">
            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.287 5.906c-.778.324-2.334.994-4.666 2.01-.378.15-.577.298-.595.442-.03.243.275.339.69.47l.175.055c.408.133.958.288 1.243.294.26.006.549-.1.868-.32 2.179-1.471 3.304-2.214 3.374-2.23.05-.012.12-.026.166.016.047.041.042.12.037.141-.03.129-1.227 1.241-1.846 1.817-.193.18-.33.307-.358.336a8.154 8.154 0 0 1-.188.186c-.38.366-.664.64.015 1.088.327.216.589.393.85.571.284.194.568.387.936.629.093.06.183.125.27.187.331.236.63.448.997.414.214-.02.435-.22.547-.82.265-1.417.786-4.486.906-5.751a1.426 1.426 0 0 0-.013-.315.337.337 0 0 0-.114-.217.526.526 0 0 0-.31-.093c-.3.005-.763.166-2.984 1.09z"/>
        </svg>
    </a>
</body>
</html>
